$(document).ready(function(){var t=[1130,980,767,640,480];function i(){var t=$(".preview-block").outerHeight(),i=$(document).scrollTop();mediaQuery("min",981)&&(t<i?$(".nav").addClass("nav_active"):$(".nav_active").removeClass("nav_active"))}function a(){var t,i=$(window).scrollTop()+$(".nav").outerHeight()+30,a=($('a[href^="#anchor"]').map(function(){return $(this).attr("href")}),$('div[id^="anchor"]').map(function(){if($(this).offset().top<i)return $(this).attr("id")}));t!==(a=a[a.length-1])?(t=a,$('a[href^="#anchor"]').removeClass("active"),$('a[href="#'+a+'"]').addClass("active")):$('a[href^="#anchor"]').removeClass("active")}$('.custom-form__input[name="phone"]').inputmask("+7 (999) 999-99-99"),$(window).scroll(function(t){a(),i()}),a(),i(),$('a[href^="#anchor"]').click(function(t){t.preventDefault();var i=$(this).attr("href"),a=$(i).offset().top,e=mediaQuery("min",981)?$(".nav").outerHeight():0;$("html,body").animate({scrollTop:a-e},500)}),$(".header__burger").click(function(t){$(".nav").toggleClass("nav_active"),$("body").toggleClass("stopped")}),$(".review-slider").slick({infinite:!0,slidesToShow:2,slidesToScroll:1,dots:!0,arrows:!0,responsive:[{breakpoint:t[0]+1,settings:{slidesToShow:1}}]}),$(".how-order-slider").slick({infinite:!1,slidesToShow:4,slidesToScroll:1,dots:!1,arrows:!0,responsive:[{breakpoint:t[1]+1,settings:{dots:!0,slidesToShow:2}},{breakpoint:t[2]+1,settings:{dots:!0,slidesToShow:1}}]}),$(".quality-grid").slick({infinite:!0,slidesToShow:3,slidesToScroll:1,dots:!1,arrows:!0,responsive:[{breakpoint:t[1]+1,settings:{dots:!0,slidesToShow:2}},{breakpoint:t[3]+1,settings:{dots:!0,slidesToShow:1}}]}),$(".faq__question").click(function(t){t.preventDefault(),$(this).toggleClass("faq__question_active"),$(this).hasClass("faq__question_active")?$(this).next(".faq__answer").slideDown(300):$(this).next(".faq__answer").slideUp(300)}),$("#loadFile").change(function(){var t,i;t=this,i=$(this),t.files&&t.files[0]&&((new FileReader).readAsDataURL(t.files[0]),i.parents(".custom-form__file").find("span").html(t.files[0].name))}),$(".catalog-item__img-container, .catalog-item__btn, .catalog-item__more").click(function(t){t.preventDefault()}),$(".catalog-item").click(function(t){var a=$("#good"),i=$(this),e=i.find('.catalog-item__img-image[data-place="origin"] img').attr("data-big"),o=i.find(".catalog-item__title").text(),n=i.find(".catalog-item__title").next("div").html(),r=+i.attr("data-price-a"),c=+i.attr("data-price-b"),s=+i.attr("data-price-c"),l=i.find(".catalog-modal").html();a.find(".good-card__img img").attr("src",e),a.find(".good-card__title").html(o),a.find('input[name="good"]').attr("value",o),a.find(".good-card__in-case").html(n),a.find(".good-card__characteristic").html(l),a.find("#dPipe1").attr("data-price",r),a.find("#dPipe2").attr("data-price",c),a.find("#dPipe3").attr("data-price",s),a.find(".good-card__price").html(r+" руб."),$(".dPipe-grid__input").change(function(t){a.find(".good-card__price").html($(this).attr("data-price")+" руб.")}),$.fancybox.open(a,{afterClose:function(t,i){a.find(".good-card__img img").removeAttr("src"),a.find("form").trigger("reset")}})}),$(".catalog__btn").click(function(t){t.preventDefault(),$(this).toggleClass("catalog__btn_active"),mediaQuery("min",641)?$(this).hasClass("catalog__btn_active")?$(".catalog-grid_2 .catalog-col:nth-child(n + 17)").slideDown(300):$(".catalog-grid_2 .catalog-col:nth-child(n + 17)").slideUp(300,function(){$(this).removeAttr("style")}):$(this).hasClass("catalog__btn_active")?$(".catalog-grid_1 .catalog-col:nth-child(n + 4), .catalog-grid_2 .catalog-col").slideDown(300):$(".catalog-grid_1 .catalog-col:nth-child(n + 4), .catalog-grid_2 .catalog-col").slideUp(300,function(){$(this).removeAttr("style")})}),$(".custom-form__btn").on("click",function(t){$(this).parents("form").find(".custom-form-accept__input").prop("checked")||(t.preventDefault(),$(this).parents("form").find(".custom-form-accept__input").addClass("error"))}),$("form").each(function(t,i){$(this).find(".custom-form-accept__input").attr("id","accept"+t),$(this).find(".custom-form-accept__label").attr("for","accept"+t),$(i).validate({rules:{phone:{required:!0}},submitHandler:function(t){$(t).ajaxSubmit({type:"POST",url:"mail.php",success:function(){$(t).trigger("reset"),document.location.href="thanks.html"}})}})})});